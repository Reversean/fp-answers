# 1. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é. –ü—Ä–∏–º–µ—Ä—ã —è–∑—ã–∫–æ–≤.

–í–∫—Ä–∞—Ç—Ü–µ:

- –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å "–∫–∞–∫"
- –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å "—á—Ç–æ"

## –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ - –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –∏–∑–º–µ–Ω—è—é—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã - –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.

–ü—Ä–∏–º–µ—Ä—ã:

- Fortran
- Java
- C#
- ...

## –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–¥–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç).

–ü—Ä–∏–º–µ—Ä—ã:

- XML
- SQL
- Prolog
- Haskell
- ...

# 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

–ü—Ä–æ–≥—Ä–∞–º–º–∞ - –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (—Ñ—É–Ω–∫—Ü–∏—è –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ), –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã - –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä—ã:

- LISP
- Haskell
- F#
- ...

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –§—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –∞ –¥–∞–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏
- –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (closures)
- –ü–æ–ª–Ω–æ—Ç–∞ —á–µ—Ä–µ–∑ —Ä–µ–∫—É—Ä—Å–∏—é
- –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (currying)

# 3. –ò—Å—Ç–æ—Ä–∏—è –§–ü. –í–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ. –°–µ–º–µ–π—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤.

–õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–∏–¥—É–º–∞–Ω–æ –ê–ª–æ–Ω–∑–æ –ß—ë—Ä—á–µ–º –≤ 1930-—Ö

LISP - –ø–µ—Ä–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (1958)

- –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    - –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏
    - —Ä–µ–∫—É—Ä—Å–∏—é
    - —É—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è,
- –∏–º–µ–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
- –∏–º–µ–µ—Ç garbage collector
- –≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–Ω–µ–π–Ω—ã–º —Å–ø–∏—Å–∫–æ–º, –≤ —Ç.—á. —Å–∞–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞

–î—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:

- ML (197x)
    - –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤
    - –∞–ª–≥–µ–±—Ä–∞–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- Miranda (1985)
    - lazy evaluation
- Erlang (1986)
    - —Å–æ–≤–º–µ—â–∞–ª –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
    - —Å–≤–µ—Ä—Ö–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
    - –º–æ–¥–µ–ª—å –∞–∫—Ç–æ—Ä–æ–≤
    - —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–±–æ—è–º
- Haskell (1990)
    - —á–∏—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
    - —Å—Ç—Ä–æ–≥–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
    - –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤
    - lazy evaluation
- Scala
    - Java + Haskell
- F#
    - OCaml + C#
- Swift
- Kotlin
- Rust
- Dart
- ...

# 4. –õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –ª—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–∏

–õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ - —Ñ–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤—ã—á–∏—Å–ª–∏–º–æ—Å—Ç–∏.

- –≤—Å–µ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç –æ–¥–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
- –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–¢–∏–ø—ã –≤—ã—Ä–∞–∂–µ–Ω–∏–π:

- –õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–¥–Ω–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∫ –¥—Ä—É–≥–∏–º
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í –æ—Å–Ω–æ–≤–µ —Å–∏—Å—Ç–µ–º—ã –ª–µ–∂–∞—Ç 2 –æ–ø–µ—Ä–∞—Ü–∏–∏:

- –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (`ùúÜx.<–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–¥ x>`)
- –∞–ø–ø–ª–∏–∫–∞—Ü–∏—è - –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É (`f a`, –≥–¥–µ `f` - —Ñ—É–Ω–∫—Ü–∏—è, `a` - –∞—Ä–≥—É–º–µ–Ω—Ç)

–í—ã—á–∏—Å–ª–µ–Ω–∏–µ - –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Ç–µ—Ä–º–æ–≤ (`(ùúÜx.y) a`, –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ `y` –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `x` –Ω–∞ `a`). –î–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —ç—Ç–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏:

- ùõº-–∫–æ–Ω–≤–µ—Ä—Å–∏—è - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –ª—è–º–±–¥–∞—Ö
    - ùõº-—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ ùõº-–∫–æ–Ω–≤–µ—Ä—Å–∏–∏
- ùõΩ-—Ä–µ–¥—É–∫—Ü–∏—è - –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –Ω–∞ –≤—Ö–æ–¥—è—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    - ùõΩ-–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ - –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è ùõΩ-—Ä–µ–¥—É–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∑–∞ –∫–æ–Ω–µ—á–Ω–æ–µ —á–∏—Å–ª–æ —à–∞–≥–æ–≤
    - ùõΩ-—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∏—Ö ùõΩ-–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã

# 5. –õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö. –ë—É–ª–µ–∞–Ω—ã –ß—ë—Ä—á–∞ –∏ –ø–∞—Ä—ã –ß—ë—Ä—á–∞

–ë—É–ª–µ–∞–Ω—ã –ß—ë—Ä—á–∞:

```
true ‚à∂= ùúÜ x y . x
false ‚à∂= ùúÜ x y . y
if ‚à∂= ùúÜ c t f . c t f

not ‚à∂= ùúÜ b x y . b y x  
```

–ü–∞—Ä—ã –ß—ë—Ä—á–∞:

```
pair ‚à∂= ùúÜ a b f . f a b
first ‚à∂= ùúÜ p . p (ùúÜ a b . a)
second ‚à∂= ùúÜ p . p (ùúÜ a b . b)
```

–ü—Ä–∏–Ω—Ü–∏–ø –∑–∞–º—ã–∫–∞–Ω–∏—è (closure): –í—Å–µ —Å–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤–∏–¥–Ω—ã –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –µ—ë —Å–æ–∑–¥–∞–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π
—Ñ—É–Ω–∫—Ü–∏–∏ –¥–∞–∂–µ –ø–æ—Å–ª–µ –µ—ë —Å–æ–∑–¥–∞–Ω–∏—è, —Ç.–µ. –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–µ–±–µ –∫—É—á—É –¥–∞–Ω–Ω—ã—Ö.

# 6. –õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö. –ß–∏—Å–ª–∞ –ß—ë—Ä—á–∞.

–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ –º–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å —á–µ—Ä–µ–∑ —á–∏—Å–ª–∞ –ü–µ–∞–Ω–æ (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ 0 –∏ –æ–ø–µ—Ä–∞—Ü–∏—è +1):

```
0 ‚à∂= ùúÜ f y . y
1 ‚à∂= ùúÜ f y . f y
2 ‚à∂= ùúÜ f y . f (f y)
3 ‚à∂= ùúÜ f y . f (f (f y))
...

inc ‚à∂= ùúÜ n f y . f (n f y)
dec ‚à∂= ùúÜ n f y . n (ùúÜ g h . h (g f)) (ùúÜ q . y) (ùúÜ u . u)

+ ‚à∂= ùúÜ a b f y . a f (b f y)
- ‚à∂= ùúÜ m n . n dec m
* ‚à∂= ùúÜ m n . n (+ m) 0

isZero ‚à∂= ùúÜ n . n (ùúÜ x . false) true
```

# 7. –õ—è–º–±–¥–∞-–∏—Å—á–∏—Å–ª–µ–Ω–∏–µ. –†–µ–∫—É—Ä—Å–∏—è

```
m ‚à∂= ùúÜ x . x x
ùúî ‚à∂= m m
```

ùúî-–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä - –¥–∏–≤–µ—Ä–≥–µ–Ω—Ç–Ω—ã–π –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä, —Å–ø–æ—Å–æ–±–Ω—ã–π –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å—Å—è —Å–∞–º –≤ —Å–µ–±—è.

Y-–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä (–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ–π —Ç–æ—á–∫–∏):

```
y ‚à∂= ùúÜ f . (ùúÜ x . f (x x)) (ùúÜ x . f (x x))
```

# 8. –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö. –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–∏—Ö –ø–æ—Ä—è–¥–∫–æ–≤. –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è - —Ñ—É–Ω–∫—Ü–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ; —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:

- IO-–æ–ø–µ—Ä–∞—Ü–∏–∏
- –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

- –≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
- —Ñ—É–Ω–∫—Ü–∏–∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã
- —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –ø–æ–±–æ—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞ –ª–µ—Ç—É (–ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è
- –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥—Ä—É–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º

–§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–∏—Ö –ø–æ—Ä—è–¥–∫–æ–≤ ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø–µ—Ä–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ (`map`, `filter`).

–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç N –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç 1 –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç
N - 1 –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

# 9. –õ–µ–Ω–∏–≤–∞—è –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω–∞—è (—Å—Ç—Ä–æ–≥–∞—è) —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã.

## –õ–µ–Ω–∏–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

–õ–µ–Ω–∏–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω—ã —É–∂–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤–æ
–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏.

–í–∏–¥—ã:

- call-by-name - –≤—ã—á–∏—Å–ª—è–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ –º–µ—Ä–µ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –æ–Ω –Ω—É–∂–µ–Ω
- call-by-need - –≤—ã—á–∏—Å–ª—è–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º –µ–≥–æ

## –≠–Ω–µ—Ä–≥–∏—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

–≠–Ω–µ—Ä–≥–∏—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
—Ñ—É–Ω–∫—Ü–∏–π –∫ –Ω–∏–º.

–í–∏–¥—ã:

- call-by-value - –≤—ã—á–∏—Å–ª—è–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë–º —Ç—É–¥–∞ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ
- call-by-reference - –≤—ã—á–∏—Å–ª—è–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë–º –≤ —Ñ—É–Ω–∫—Ü–∏—é —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ
- ...

### –ü—Ä–∏–º–µ—Ä—ã –ª–µ–Ω–∏–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

Haskell —è–≤–ª—è–µ—Ç—Å—è —è–∑—ã–∫–æ–º —Å –ª–µ–Ω–∏–≤—ã–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º.

–í –û–û–ü —è–∑—ã–∫–∞—Ö (Java, C++, ...) `if` —è–≤–ª—è–µ—Ç—Å—è –ª–µ–Ω–∏–≤—ã–º, —Ç.–∫. –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–±–µ–∏—Ö –≤–µ—Ç–æ–∫ –∏ –≤—ã–±–æ—Ä –Ω—É–∂–Ω–æ–π –∏–∑ –Ω–∏—Ö –Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `&&` –∏ `||` —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è –ª–µ–Ω–∏–≤—ã–º–∏.

# 10. –Ø–∑—ã–∫ Haskell. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –∏ –∏–Ω—Ñ–∏–∫—Å–Ω–∞—è –∑–∞–ø–∏—Å—å

–û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç 1 –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ç–∏–ø–∞ `Integer`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `Integer`:

```haskell
foo :: Integer -> Integer
foo x = x + 2

(<@???@>) :: Integer -> Integer
(<@???@>) x = x + 2
```

- –ò–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –º–æ–≥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ–ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–∫—Ä–æ–º–µ —Å–∫–æ–±–æ–∫, –∫–∞–≤—ã—á–µ–∫ –∏ –∑–∞–ø—è—Ç—ã—Ö), –Ω–æ —Ç–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã
- –ò–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –º–æ–≥—É—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –¥–≤–æ–µ—Ç–æ—á–∏—è
- –ò–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã

–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç (—Ñ—É–Ω–∫—Ü–∏—è –æ—Ç 0 –∞—Ä–≥—É–º–µ–Ω—Ç–∞):

```haskell
bar :: Int
bar = 1
```

–ü—Ä–∏–≤—è–∑—ã–≤–∞–Ω–∏—è:

```haskell
strfact sx =
    let param = read sx in
    show (factorial param)
    
strfact sx =
    let param = read sx in
    show result
    where result = factorial param
```

- –ü—Ä–∏–≤—è–∑—ã–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ü–µ—Ä–µ–Ω–æ—Å—ã –∏ –æ—Ç—Å—Ç—É–ø—ã –≤–∞–∂–Ω—ã
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –∏ ';'

–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –æ—Ç 2 –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π —Ñ–æ—Ä–º–µ:

```haskell
divmod x y = (div x y, mod x y)
z = 45 `divmod` 16

(</@%>) x y = (div x y, mod x y)
z = 45 </@%> 16
```

- –î–ª—è –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: –≤ –æ–±—Ä–∞—Ç–Ω—ã—Ö –∫–∞–≤—ã—á–∫–∞—Ö
- –î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: –ø—Ä–æ—Å—Ç–æ —É–±–∏—Ä–∞–µ–º —Å–∫–æ–±–∫–∏

# 11. –Ø–∑—ã–∫ Haskell. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π. –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–µ–∫—Ü–∏–∏.

–î–ª—è –∏–Ω—Ñ–∏–∫—Å–Ω–æ–π —Ñ–æ—Ä–º—ã –≤–∞–∂–Ω—ã –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –µ—ë –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

- –ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:
    - –õ–µ–≤–∞—è: a + b + c === (a + b) + c
    - –ü—Ä–∞–≤–∞—è: a += b += c === a += (b += c)
    - –ù–∏–∫–∞–∫–∞—è: –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ü–µ–ø–æ—á–∫–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: a + b * c === a + (b * c)

–ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞–¥–∞–µ—Ç—Å—è —è–≤–Ω–æ –≤—Ä—É—á–Ω—É—é:

```haskell
infixr 7 </@%>  -- –ø—Ä–∞–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–µ–Ω, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 7
infixl 7 </@%>  -- –ª–µ–≤–æ–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–µ–Ω, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 7
```

- –ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç 0 –¥–æ 9
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–π —Ñ–æ—Ä–º—ã —Ä–∞–≤–Ω–æ 10

–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç N –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç 1 –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç
N - 1 –∞—Ä–≥—É–º–µ–Ω—Ç–∞.

–°–µ–∫—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏–Ω—Ñ–∏–∫—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:

```haskell
let divBy3 = (/ 3) in
divBy3 15          -- 5
let div15By = (15 /) in
div15By 5          -- 3
```

# 12. –Ø–∑—ã–∫ Haskell. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

### –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```haskell
char :: Char
char = 'a'

integer :: Integer
integer = 42

int :: Int
int = 42

double :: Double
double = 3.14
```

### –õ–∏–Ω–µ–π–Ω—ã–µ –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏

–õ–∏–Ω–µ–π–Ω—ã–µ –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –≤ haskell - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:

```haskell
lst :: [Int]
lst = 0 : (1 : (2 : (3 : (4 : []))))
lst = 0 : 1 : 2 : 3 : 4 : []
lst = [1, 2, 3, 4]
lst = [1..4]
lst = [1,2..4]
```

### –ö–æ—Ä—Ç–µ–∂–∏

```haskell
pair :: a -> b -> (a, b)
pair x y = (x, y)
triple :: a -> b -> c -> (a, b, c)
triple x y z = (x, y, z)
```

### Unit (–ø—É—Å—Ç–æ–π —Ç–∏–ø)

```haskell
nothing :: ()
nothing = ()
```

### Bool

```haskell
data Bool = True | False
```

### Maybe

```haskell
data Maybe a = Just a | Nothing
maybeInt1 :: Maybe Int
maybeInt1 = Just 42
maybeInt2 :: Maybe Int
maybeInt2 = Nothing
```

### Either

```haskell
data Either a b = Left a | Right b
eitherStringOrInt1 :: Either String Integer
eitherStringOrInt1 = Left "Hello"
eitherStringOrInt2 :: Either String Integer
eitherStringOrInt2 = Right 1337
```

# 13. –Ø–∑—ã–∫ Haskell. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ —Ç–∏–ø—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∏ —à–∞–±–ª–æ–Ω—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã.

### –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤:

```haskell
type IntList = [Int]

type String = [Char]
foo :: [Char]
foo = "hello"
```

### –¢–∏–ø—ã-–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (product types)

```haskell
data Coordinates = Coordinates Int Int

x (Coordinates x' _) = x'
y (Coordinates _ y') = y'
c = Coordinates 1 4
```

### –¢–∏–ø—ã-—Å—É–º–º—ã (sum types)

```haskell
data Bool = True | False

data Term = IntConstant Int
          | Variable String
          | BinaryTerm Term Term
```

- –ö–∞–∂–¥—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π.

### –ó–∞–ø–∏—Å–∏ (records)

```haskell
data Coordinates = Coordinates{ x :: Int, y :: Int }

data Term = IntConstant{ intValue :: Int }
          | Variable{ varName :: String }
          | BinaryTerm{ lhv :: Term, rhv :: Term }
```

- –ö–∞–∂–¥–æ–µ –∏–º—è –ø–æ–ª—è –≤ —Ç–∏–ø–µ `T` —Å —Ç–∏–ø–æ–º `X` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–≥–µ—Ç—Ç–µ—Ä —Å —Ç–∏–ø–æ–º `T -> X`

### Newtype

```haskell
newtype TimeData = TimeData{ ms :: Integer }
```

- –ì–æ–¥–∏—Ç—Å—è –¥–ª—è —Ç–∏–ø–æ–≤ —Å –æ–¥–Ω–∏–º –ø–æ–ª–µ–º
- –Ø–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–º —Ç–∏–ø–æ–º, –Ω–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç –µ–≥–æ —Ç–∞–∫–∂–µ, –∫–∞–∫ –∏ —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –≤ –Ω–µ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã

```haskell
type List a = [a]
data Tree a = Leaf a | Node (Tree a) (Tree a)
leaf42 :: Tree Int
leaf42 = Leaf 42
```

- –¢–∏–ø–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã

### –û–ø–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

```haskell
data MyList a = (:~) a (MyList a)
              | Nil deriving (Show, Eq)
infixr 4 :~

lst = 2 :~ 3 :~ 4 :~ 5 :~ 6 :~ Nil
```

- –û–ø–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ç–∏–ø—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –¥–≤–æ–µ—Ç–æ—á–∏—è

## –§—É–Ω–∫—Ü–∏–π –Ω–∞–¥ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

```haskell
data Tree a = Leaf a | Node (Tree a) (Tree a)

contains (Leaf x) y = (x == y)
contains (Node left right) y =
    contains left y || contains right y
    
listContains [] x = False
listContains (h: t) x = if h == x
                        then True
                        else listContains t x
listEmpty [] = True
listEmpty _ = False
```

# 14. –Ø–∑—ã–∫ Haskell. Pattern matching.

–ü–∞—Ç—Ç–µ—Ä–Ω—ã –Ω—É–∂–Ω—ã –¥–ª—è:

- –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∞—Ä–≥—É–º–µ–Ω—Ç—É
- —Ä–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –Ω–∞ —á–∞—Å—Ç–∏

–ö–∞–∂–¥–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –Ω–æ–≤—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –æ–±—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è

**–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:** —Å–Ω–∞—á–∞–ª–∞ —á–∞—Å—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏, –ø–æ—Ç–æ–º –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ

```haskell
foo x = x + 2
  --^ —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω

factorial 0 = 1
factorial 1 = 1
factorial n = n * factorial (n - 1)
```

## Pattern matching –≤ haskell

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è

```haskell
foo x = x + 2
```

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

```haskell
bar _ = 5
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞

```haskell
fee 3 5 = 15
```

### –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏

```haskell
fuu x y _ 4 = x + y
```

### –°–ø–∏—Å–∫–∏

```haskell
len [] = 0
len (h:t) = 1 + len t
```

### –ö–æ—Ä—Ç–µ–∂–∏

```haskell
pair a b = (a,b)
first (a,b) = a
second (a,b) = b
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã

```haskell
data Maybe a = Nothing | Just a
isEmpty (Just _) = False
isEmpty (Nothing) = True

plus (Just x) (Just y) = Just(x + y)
plus Nothing _ = Nothing
plus _ Nothing = Nothing
```

### –ó–∞–ø–∏—Å–∏

```haskell
data Coords = Coords { x::Int, y::Int }
xUnit Coords { x = x } = Coords x 0
isAtXAxis Coords { y = 0 } = True
isAtXAxis _ = False
```

### let

```haskell
elementOr42 x =
    if isEmpty x
    then 42
    else
        let (Just y) = x in
        y
```

### case ... of

```haskell
x = case <expression> of <pattern> -> <value>
                         <pattern> -> <value>
                         ...
```

```haskell
data Either a b = Left a | Right b
bothToString ei =
    case ei of
         (Left x) -> show x
         (Right x) -> show x
```

### Pattern guards

–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç

```haskell
function <pattern> | <condition> = <body>
                   | <other condition> = <body>
                   | otherwise = <body>
```

```haskell
data BinaryTree = EmptyTree
                | Leaf Integer
                | Node Integer BinaryTree BinaryTree
containsElement EmptyTree _ = False
containsElement (Leaf x) y | (x == y) = True
                           | otherwise = False
containsElement (Node c l r) y | (c == y) = True
                               | (c < y) = containsElement l y
                               | (c > y) = containsElement r y
```

- `otherwise` - —ç—Ç–æ `True`

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

```haskell
-- –ò–∑ —Å–ø–∏—Å–∫–∞ Maybe –Ω–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç,
-- —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∑–Ω–∞—á–µ–Ω–∏–µ
firstJust (Just x : _) = x
firstJust (Nothing: t) = firstJust t
firstJust []           = error "Not found"
```

```haskell
data Term = Constant Integer
          | Variable String
          | SumTerm Term Term
simplify (SumTerm (Constant x) (Constant y)) = Constant (x + y)
simplify (SumTerm x            (Constant 0)) = simplify x
simplify (SumTerm (Constant 0) x)            = simplify x
simplify x                                   = x
```

```haskell
data Line = Line { start::Coords, end::Coords }
isVertical Line {
              start = Coords{x = x1},
              end = Coords{x = x2}
           } | x1 == x2 = True
isVertical _ = False
```

### as-patterns

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫ –æ–¥–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é

```haskell
-- –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0,
-- –≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ, –∏–Ω–∞—á–µ –¥–æ–±–∞–≤–∏—Ç—å 0
addZeroToHead list @ (0 : _) = list
addZeroToHead list = 0 : list
```

### Strict pattern matching

```haskell
func !x = x -- –≤—Å–µ–≥–¥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç x
```

### Lazy pattern matching

```haskell
func ~(h:t) = h:t    -- –Ω–µ –≤—ã—á–∏—Å–ª—è–µ—Ç h –∏ t, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç–æ–π
```

## –†–∞—Å—à–∏—Ä–µ–Ω–∏—è pattern matching

### -XViewPatterns

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é

```haskell
startsWithTwo :: Int -> Int
startsWithTwo (show -> ('2':_)) = True
startsWithTwo _ = False
```

### -XPatternSynonyms

–í–∞—Ä–∏–∞–Ω—Ç 1:

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Å–≤–æ–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ—é—â–∏—Ö—Å—è
- –†–µ–∫—É—Ä—Å–∏—é –Ω–µ–ª—å–∑—è
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏ –Ω–µ–ª—å–∑—è

```haskell
pattern MAXINT = 9223372036854775807
pattern SingletonList x = [x]
foo (SingletonList x) = x
foo _ = error ""
```

–í–∞—Ä–∏–∞–Ω—Ç 2:

- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏ –º–æ–∂–Ω–æ

```haskell
pattern StartsWithA <- 'a' : _
          where StartsWithA = ['a']
```

# 15. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã. –§–ö –Ω–∞–¥ —Å–ø–∏—Å–∫–∞–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã - —á–∏—Å—Ç—ã–µ –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç.

–î–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–Ω–æ—Å–∏—Ç –æ–¥–∏–Ω –∏–∑ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –§–ü.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ.

## –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã

### const

```haskell
const x _ = x
```

### id

```haskell
id x = x
```

### flip

```haskell
flip f a b = f b a
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã –Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

### Y-–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä

```haskell
fix :: (t -> t) -> t
fix f = f (fix f)
```

–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä –Ω–∞–∏–º–µ–Ω—å—à–µ–π –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ–π —Ç–æ—á–∫–∏: –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –æ–Ω–∞ —Å–∞–º–∞ –Ω–µ —Ä–µ—à–∏—Ç ‚Äú–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è‚Äù

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã –Ω–∞–¥ —Å–ø–∏—Å–∫–∞–º–∏

### map

–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä –Ω–∞–¥ —Å–ø–∏—Å–∫–æ–º `map`: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–µ–∫—Ü–∏—é —Å–ø–∏—Å–∫–∞ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```haskell
-- –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞,
-- –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
map :: (a -> b) -> [a] -> [b]
map _ [] = []
map f (h : t) = (f h) : (map f t)

-- —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–∞–±–æ—Ä
-- —Å–ø–∏—Å–∫–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è–µ–º –∏—Ö –≤–º–µ—Å—Ç–µ
concatMap :: (a -> [b]) -> [a] -> [b]
concatMap f [] = []
concatMap f (h : t) = (f h) `append` (concatMap f t)
```

### filter

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ç–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç–∞—Ä–æ–≥–æ —Å–ø–∏—Å–∫–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–µ–¥–∏–∫–∞—Ç—É

```haskell
-- 
filter :: (a -> Bool) -> [a] -> [a]
filter _ [] = []
filter p (h:t) | p h = h : ft
               | otherwise = ft
              where ft = filter p t
```

### zip

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç 2 —Å–ø–∏—Å–∫–∞ –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ä

```haskell
zip :: [a] -> [b] -> [(a,b)]
zip (ah: at) (bh: bt) = (ah, bh) : zip at bt
zip [] [] = []
```

### take

–í–∑—è—Ç—å –ø–µ—Ä–≤—ã–µ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞

```haskell
take :: Integer -> [a] -> [a]
take 0 _ = []
take i [] = []
take i (h: t) = h : take (i-1) t
```

### drop

–í—ã–±—Ä–æ—Å–∏—Ç—å –ø–µ—Ä–≤—ã–µ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞

```haskell
drop :: Integer -> [a] -> [a]
drop 0 lst = lst
drop i [] = []
drop i (_: t) = drop (i-1) t
```

### scanl

```haskell
scanl :: (b -> a -> b) -> b -> [a] -> [b]
```

### scanr

```haskell
scanr :: (a -> b -> b) -> b -> [a] -> [b]
```

### takeWhile

```haskell
takeWhile :: (a -> Bool) -> [a] -> [a]
```

### dropWhile

```haskell
dropWhile :: (a -> Bool) -> [a] -> [a]
```

### tails

```haskell
tails :: [a] -> [[a]]
```

# 16. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã. –°–≤—ë—Ä—Ç–∫–∏.

## –°–≤–µ—Ä—Ç–∫–∏

–°–≤–µ—Ä—Ç–∫–∏ (fold, reduce) - —Å–µ–º–µ–π—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö —Å —Ü–µ–ª—å—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ
–∑–Ω–∞—á–µ–Ω–∏—è.

–û–±—ã—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏—è —Å–≤–µ—Ä—Ç–∫–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä –∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∞–≤–∞—è —Å–≤–µ—Ä—Ç–∫–∞

```haskell
foldr :: (a -> b -> b) -> b -> [a] -> b
sum list = foldr (+) 0 list
```

![foldr.png](images /foldr.png)

### –õ–µ–≤–∞—è —Å–≤–µ—Ä—Ç–∫–∞

```haskell
foldl :: (b -> a -> b) -> b -> [a] -> b
sum list = foldl (+) 0 list
```

![foldl.png](images /foldl.png)

## –†–∞–∑–≤–µ—Ä—Ç–∫–∏

–†–∞–∑–≤–µ—Ä—Ç–∫–∏ - —Å–µ–º–µ–π—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è —Å —Ü–µ–ª—å—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∞–≤–∞—è —Ä–∞–∑–≤–µ—Ä—Ç–∫–∞

```haskell
unfoldr :: (b -> Maybe(a, b)) -> b -> [a]

take 5 $ unfoldr (\n -> Just (show n, n + 1)) 0 ["0", "1", "2", "3", "4"]
```

![unfoldr.png](images /unfoldr.png)

# 17. –ö–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤ –≤ Haskell. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã.

–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

–í–∏–¥—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤ —è–∑—ã–∫–∞—Ö:

- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π (–æ–¥–∏–Ω –∫–æ–¥, –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ)
    - Generics/templates/universal types
- Ad-hoc (—Ä–∞–∑–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –µ–¥–∏–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–∑–æ–≤–∞)
    - Overloading/type classes
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π
    - ...

–ö–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤ - —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π –¥–ª—è Haskell –º–µ—Ö–∞–Ω–∏–∑–º ad-hoc –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞.

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞: `class`

- –ù–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π, –≤—Ö–æ–¥—è—â–∏—Ö –≤ –∫–ª–∞—Å—Å ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø–µ—Ä–∏—Ä—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—Ö–æ–¥–∏—Ç –≤ –∫–ª–∞—Å—Å
- –û–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω—ã (—á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ç–∏–ø–∞) –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –í —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∏–ª–∏
  –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ) –≤ —ç—Ç–æ–º –∂–µ –∫–ª–∞—Å—Å–µ

–≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞: `instance`

- –ù–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π –∫–ª–∞—Å—Å–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ (–∏–ª–∏ –æ–±–æ–±—â—ë–Ω–Ω–æ–≥–æ) —Ç–∏–ø–∞
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –∫–ª–∞—Å—Å–µ, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ
- –û–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –∫–ª–∞—Å—Å–µ, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å (—Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏—è
  –∏–∑ –∫–ª–∞—Å—Å–∞)

–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç overloads, –≤ type class

- –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∫–ª–∞—Å—Å–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ, –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ —Ç–∏–ø—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç
- –£ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –Ω–µ—è–≤–Ω—ã–µ –∑–∞–∫–æ–Ω—ã —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω –¥–æ–ª–∂–µ–Ω ‚Äú—Ä–∞–±–æ—Ç–∞—Ç—å‚Äù (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø–∏—à—É—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ —Ç–∏–ø–æ–≤:

```haskell
listContains :: (Eq a) => [a] -> a -> Bool
listContains (h:t) e | h == e = True
                     | otherwise = listContains t e
```

–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—ä—è–≤–ª—è—Ç—å –∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤:

```haskell
instance (Eq a) => Eq [a] where
    (ah:at) == (bh:bt) = ah == bh && at == bt
instance (Eq a, Eq b) => Eq (a,b) where
    (a1,a2) == (b1,b2) = a1 == b1 && a2 == b2
```

## –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã

### Eq

`Eq` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ

```haskell
class Eq a where
    (==) :: a -> a -> Bool
    (/=) :: a -> a -> Bool
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `==` –∏–ª–∏ `/=`

–ó–∞–∫–æ–Ω: `a == b ‚áî not (a /= b)`

### Ord

`Ord` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞

```haskell
class Eq a => Ord a where
    compare :: a -> a -> Ordering
    (<) :: a -> a -> Bool
    (<=) :: a -> a -> Bool
    (>) :: a -> a -> Bool
    (>=) :: a -> a -> Bool
    max :: a -> a -> a
    min :: a -> a -> a

data Ordering = LT | EQ | GT
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `compare` –∏–ª–∏ `<=`

–ó–∞–∫–æ–Ω—ã: –æ—á–µ–≤–∏–¥–Ω—ã

### Show

`Show` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ –≤ —Å—Ç—Ä–æ–∫—É

```haskell
type ShowS = String -> String
class Show a where
    showsPrec :: Int -> a -> ShowS
    show :: a -> String
    showList :: [a] -> ShowS
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `show` –∏–ª–∏ `showsPrec`

–ó–∞–∫–æ–Ω—ã: –Ω–µ—Ç (–Ω–æ –Ω–µ–ø–ª–æ—Ö–æ –±—ã, —á—Ç–æ–±—ã show –∏ read –±—ã–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã)

### Read

`Read` ‚Äî —á—Ç–µ–Ω–∏–µ –∏–∑ —Å—Ç—Ä–æ–∫–∏

```haskell
type ReadS a = String -> [(a, String)]
class Read a where
    readsPrec :: Int -> ReadS a
    readList :: ReadS [a]
    readPrec :: ReadPrec a
    readListPrec :: ReadPrec [a]
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `readsPrec` –∏–ª–∏ `readPrec`

–ó–∞–∫–æ–Ω—ã: –Ω–µ—Ç (–Ω–æ –Ω–µ–ø–ª–æ—Ö–æ –±—ã, —á—Ç–æ–±—ã show –∏ read –±—ã–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã)

### Bounded

`Bounded` ‚Äî –Ω–∞–ª–∏—á–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è

–õ—é–±–∞—è —à—Ç—É–∫–∞, —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –º–∞–∫—Å–∏–º—É–º –∏ –º–∏–Ω–∏–º—É–º.

```haskell
class Bounded a where
minBound :: a
maxBound :: a
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `minBound`, `maxBound`

–ó–∞–∫–æ–Ω—ã: –Ω–µ—Ç

### Enum

`Enum` - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å (–¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (..))

```haskell
class Enum a where
    succ :: a -> a
    pred :: a -> a
    toEnum :: Int -> a
    fromEnum :: a -> Int
    enumFrom :: a -> [a]
    enumFromThen :: a -> a -> [a]
    enumFromTo :: a -> a -> [a]
    enumFromThenTo :: a -> a -> a -> [a]
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `toEnum`, `fromEnum`

–ó–∞–∫–æ–Ω—ã: –æ—á–µ–≤–∏–¥–Ω—ã

## deriving

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ deriving –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤:

- `Eq`
- `Ord`
- `Show`
- `Read`
- `Bounded`
- `Enum`

```haskell
data Coords = Coords{x :: Int, y :: Int}
    deriving (Eq,Ord,Show,Read)
```

# 18. –ö–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤ –≤ Haskell. –ú–æ–Ω–æ–∏–¥—ã –∏ —Ñ—É–Ω–∫—Ç–æ—Ä—ã.

## –ú–æ–Ω–æ–∏–¥

–ú–æ–Ω–æ–∏–¥ ‚Äì —ç—Ç–æ —Ç–∏–ø, –æ—Ç–≤–µ—á–∞—é—â–∏–π –¥–≤—É–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

- –ï—Å—Ç—å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ –Ω—É–ª—ë–º –º–æ–Ω–æ–∏–¥–∞
- –ï—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–Ω–æ–∏–¥–∞ –∫ –º–æ–Ω–æ–∏–¥—É

```haskell
class Semigroup a where
    (<>) :: a -> a -> a
class (Semigroup a) => Monoid a where
    mempty :: a
    mappend :: a -> a -> a
    mconcat :: [a] -> a
```

–û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–∫–æ–Ω –º–æ–Ω–æ–∏–¥–∞: x \`mappend\` mzero === mzero \`mappend\` x === x

–ü—Ä–∏–º–µ—Ä—ã –º–æ–Ω–æ–∏–¥–æ–≤ –≤ haskell:

- –õ—é–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
- –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —Å–ø–∏—Å–æ–∫, –æ–ø–µ—Ä–∞—Ü–∏—è `append` –∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω—É–ª—è
- `Maybe a`, –µ—Å–ª–∏ `a` ‚Äî –º–æ–Ω–æ–∏–¥
- –¶–µ–ª—ã–µ –∏ –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–Ω–æ–∏–¥–∞–º–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ—Ç –æ–¥–Ω–æ–≥–æ –æ—á–µ–≤–∏–¥–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

## –§—É–Ω–∫—Ç–æ—Ä

–§—É–Ω–∫—Ç–æ—Ä - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é (`fmap`), –ø–æ–ª—É—á–∏–≤ –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ü–∏—é —ç—Ç–æ–≥–æ \
–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –≤–∏–¥–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ç–æ—Ä–∞.

```haskell
class Functor f where
    fmap :: (a -> b) -> f a -> f b
    (<$) :: a        -> f b -> f a
    (<$) = fmap . const
```

–ü—Ä–∏–º–µ—Ä:

```haskell
data BinaryTree a =
      EmptyBinaryTree
    | Leaf a
    | Node a (BinaryTree a) (BinaryTree a)
instance Functor BinaryTree where
    fmap f (EmptyBinaryTree) = EmptyBinaryTree
    fmap f (Leaf x) = Leaf (f x)
    fmap f (Node e l r) =
        Node (f e) (fmap f l) (fmap f r)
```

```haskell
(*3) $ 2 -- 6
(*3) <$> [1,2,3,4,5] -- [3,6,9,12,15]
(*3) <$> (Just 5) -- Just 15
```

–ó–∞–∫–æ–Ω: fmap id x === x

# 19. –ö–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤ –≤ Haskell. –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã.

### Num

`Num` ‚Äî —á–∏—Å–ª–∞, –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏; –û–±–æ–±—â—ë–Ω–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ ‚Äú—á–∏—Å–ª–æ‚Äù

```haskell
class Num a where
    (+), (-), (*) :: a -> a -> a
    negate :: a -> a
    abs :: a -> a
    signum :: a -> a
    fromInteger :: Integer -> a
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `(+)`, `(*)`, `abs`, `signum`, `fromInteger`, (`negate` | `(-)`)

–ó–∞–∫–æ–Ω—ã: —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–º

### Real

`Real` ‚Äî –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞

```haskell
-- —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
data Ratio a = <compiler-dependent>
type Rational = Ratio Integer
class (Num a, Ord a) => Real a where
    toRational :: a -> Rational
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `toRational`

–ó–∞–∫–æ–Ω—ã: –Ω–µ—Ç

### Integral

`Integral` ‚Äî —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞

```haskell
class (Real a, Enum a) => Integral a where
    quot :: a -> a -> a
    rem :: a -> a -> a
    div :: a -> a -> a
    mod :: a -> a -> a
    quotRem :: a -> a -> (a, a)
    divMod :: a -> a -> (a, a)
    toInteger :: a -> Integer
```

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `quotRem`, `toInteger`

–ó–∞–∫–æ–Ω—ã: –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ

# 20. –ö–ª–∞—Å—Å—ã —Ç–∏–ø–æ–≤ –≤ Haskell. –ê–ø–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ç–æ—Ä—ã, –º–æ–Ω–∞–¥—ã

### –ß—É—Ç—å –±–æ–ª—å—à–µ –ø—Ä–æ –º–æ–Ω–∞–¥—ã

–õ—é–±–∞—è –º–æ–Ω–∞–¥–∞ - –∞–ø–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä, –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–π, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤ —Ç–∏–ø–µ –∞–ø–ø–ª–∏–∫–∞—Ç–∏–≤–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ç–æ—Ä–∞, —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è
–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–Ω–∞–¥—ã:

- `pure` (functor) = `return` (monad)
- `fmap` (functor) = `fmap` (monad)

–ï—Å—Ç—å –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π –Ω–∞–±–æ—Ä –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–Ω–∞–¥—ã:

- `return :: a -> m a`
- `bind aka >>= :: m a -> (a -> m b) -> m b`

–ü–æ —Å—É—Ç–∏, `bind` - —ç—Ç–æ `flatten` –Ω–∞ `fmap` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∑–∞–∫–æ–Ω–∞–º–∏:

```haskell
(>>=) :: m a -> (a -> m b) -> m b
x >>= f = flatten (fmap f x)
```

–ì–¥–µ:

```
return x >>= f === f x
m >>= return === m
(m >>= f) >>= g === m >>= (\x -> f x >>= g)
```

–ê–ø–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–π —Ñ—É–Ω–∫—Ç–æ—Ä –º–æ–∂–Ω–æ –≤—ã—Ä–∞–∑–∏—Ç—å —á–µ—Ä–µ–∑ –º–æ–Ω–∞–¥—É, –Ω–æ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç (`bind` –Ω–µ–≤—ã—Ä–∞–∑–∏–º –≤ –æ–±—Ä–∞—Ç–Ω–æ–º —Å–ª—É—á–∞–µ).

### Do-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å

Do-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤ –º–æ–Ω–∞–¥–∞—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö - –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –ü—Ä–∏–º–µ—Ä:

```haskell
xplusytimez =
    x >>= \ x' ->
        y >>= \ y' ->
            (f y') >>= \ z' ->
                return $ x' + y' * z'

xplusytimez =
    do
        x' <- x
        y' <- y
        z' <- f y'
        return $ x' + y' * z'
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–Ω–∞–¥–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, Maybe –∏ Error, –∏–∑–±–∞–≤–ª—è—è –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É–∫–∞–º–∏ –ø–∏—Å–∞—Ç—å
–ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∏–º–µ—Ä—ã –º–æ–Ω–∞–¥ –∏–∑ –û–û–ü:

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (`future`/`promise`)
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (`observable`)

# 21. –ú–æ–Ω–∞–¥—ã: Reader, Writer, State.

### Reader

–ó–∞–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω "–∏–∑–≤–Ω–µ", –∏ –∑–∞–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `runReader`:

```haskell
xplusenv x = do
    x' <- x
    env <- ask
    return $ x' + env
fortyTwoPlusEnv = xplusenv (return 42)
runReader fortyTwoPlusEnv 3 === 45
runReader fortyTwoPlusEnv 8 === 50
```

### Writer

–ó–∞–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –≤ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ-–ª–∏–±–æ –∑–∞–ø–∏—Å–∞–Ω–æ "–∏–∑–Ω—É—Ç—Ä–∏", –∏ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –ø—Ä–∏
–≤—ã–∑–æ–≤–µ `runWriter`:

```haskell
logFirst x y = do
    x' <- x
    y' <- y
    if (x' > y') then tell [x']
        else return ()
    return $ x + y
foo = logFirst (return 5) (return 4)
fee = logFirst (return 13) (return 12)
bar = logFirst foo fee
runWriter foo === (9, [5])
runWriter fee === (25, [13])
runWriter bar === (34, [5,13,9])
```

### State

–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ `Reader` –∏ `Writer`: –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å (`put`) –∏ –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å (`get`).

–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ –ø—Å–µ–≤–¥–æ-–∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å—ë –µ—â—ë —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ-—á–∏—Å—Ç–æ–µ:

- –ö–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π;
- –°–∞–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –≤ –º–æ–Ω–∞–¥–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—Ç—É–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–∫–∂–µ –Ω—É–∂–Ω—ã –≤–Ω–µ—à–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.

–ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, —á—Ç–æ –≤—Å—ë –æ–∫—Ä—É–∂–∞—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã - —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ `State`, –∏
–∏–∑–º–µ–Ω–∏—Ç—å `runState` –Ω–∞ `main` - –ø–æ–ª—É—á–∏—Ç—Å—è –º–æ–Ω–∞–¥–∞ `IO`.

# 22. –ú–æ–Ω–∞–¥—ã-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã.

–ò–Ω–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –æ—Ç–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

- `Error` + `State`
- `State` + `IO`
- ...

–î–ª—è –ø–æ–¥–æ–±–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –º–æ–Ω–∞–¥—ã-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã: –≤ –Ω–∏—Ö –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å "
–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π" –º–æ–Ω–∞–¥–µ.

```haskell
type GetCtx a = State (Input, Position) a
type Parser a = ErrorT GetCtx a
```

# 23. –•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è.

–í –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –≥–ª—É–±–∏–Ω–∞ —Å—Ç–µ–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ - –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –≥–ª—É–±–∏–Ω—É, –ø–æ–ª—É—á–∏–ª–∏ StackOverflow.

–í –§–ü - —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —á–µ—Ä–µ–∑ —Ä–µ–∫—É—Ä—Å–∏—é - —á—Ç–æ –¥–µ–ª–∞—Ç—å?

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (TCO - tail call optimisation). –û–±—â–∞—è –∏–¥–µ—è:

- –í –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ —Å—Ç–µ–∫–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ/–∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∞–¥—Ä–µ—Å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ï—Å–ª–∏ –ø–æ–¥–æ–±–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–º—ã—Ö —á–∞—Å—Ç–µ–π –∫–∞–¥—Ä–∞ –Ω–µ—Ç/–æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã, —Ç–æ –∫–∞–¥—Ä –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å

- –î–ª—è —Ç–∞–∫–æ–≥–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –±—ã–ª –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ - –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ
  –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

```haskell
fact 0 = 1
fact 1 = 1
fact n = n * fact $ n - 1

tc_fact 0 k = k
tc_fact 1 k = k
tc_fact n k = tc_fact (n - 1) (k * n)
fact n = tc_fact n 1
```

TCO:

- –ï—Å—Ç—å –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –Ø–ü
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–æ –º–Ω–æ–≥–∏—Ö "–≥–∏–±—Ä–∏–¥–Ω—ã—Ö" –Ø–ü (Java, Python) - –§–ü –Ω–∞ —Ç–∞–∫–∏—Ö —è–∑—ã–∫–∞—Ö –±—É–¥–µ—Ç –≥—Ä—É—Å—Ç–Ω—ã–º
- –í Haskell TCO –Ω–µ –æ—Å–æ–±–æ –ø–æ–ª–µ–∑–Ω–∞ –∏–∑-–∑–∞ –ª–µ–Ω–∏–≤–æ—Å—Ç–∏ —è–∑—ã–∫–∞

# 24. –ê–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –ú–µ—Ç–æ–¥ –±–∞–Ω–∫–∏—Ä–∞. –ü—Ä–∏–º–µ—Ä—ã.

–í –§–ü –≤–º–µ—Å—Ç–æ –±—ã—Å—Ç—Ä—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤ - –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –Ω–∞ –§–ü –Ω–µ–ª—å–∑—è –Ω–∞–ø–∏—Å–∞—Ç—å
—á—Ç–æ-–ª–∏–±–æ –±—ã—Å—Ç—Ä–æ–µ, –æ–¥–Ω–∞–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –≤–∏–¥ –æ—Ü–µ–Ω–∫–∏:

- –ù–∞–∏—Ö—É–¥—à–∞—è - –ø—Ä–∏–≤—ã—á–Ω–∞—è –Ω–∞–º –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é/–û–û–ü, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç;
- –°—Ä–µ–¥–Ω—è—è
- –ê–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è - –∏–º–µ–Ω–Ω–æ –æ–Ω–∞ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞

–û–¥–∏–Ω –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ–∏—Å–∫–∞ –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ "–≤ –ª–æ–±" - –º–µ—Ç–æ–¥ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤: –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –¥–ª—è –ª—é–±–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
–æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é —Ä–∞–≤–Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–π.

–ú–µ—Ç–æ–¥ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ —Å–ª–æ–∂–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –µ–º—É –Ω–∞ –∑–∞–º–µ–Ω—É –ø—Ä–∏–¥—É–º–∞–Ω—ã –º–µ—Ç–æ–¥—ã –±–∞–Ω–∫–∏—Ä–∞ –∏ —Ñ–∏–∑–∏–∫–∞.

–ú–µ—Ç–æ–¥ –±–∞–Ω–∫–∏—Ä–∞:

- –°—á–∏—Ç–∞–µ–º, —á—Ç–æ –∑–∞ –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –ø–ª–∞—Ç—è—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞—Ä–ø–ª–∞—Ç—É (e.g. 3$)
- –ó–∞ –∫–∞–∂–¥—É—é –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –Ω—É–∂–Ω–æ –∑–∞–ø–ª–∞—Ç–∏—Ç—å 1$
- –ê–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–µ —É–±—ã—Ç–∫–∏

–ü—Ä–∏–º–µ—Ä —Å `ArrayList`/`Vector`/etc.:

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü: +3$
    - –ü—Ä–∏ —ç—Ç–æ–º -1$ –Ω–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
- –£–¥–∞–ª–µ–Ω–∏–µ —Å –∫–æ–Ω—Ü–∞: -1$ (–∏–∑ —Ç–µ—Ö, —á—Ç–æ –º—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞)
- –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞ –≤–µ–∫—Ç–æ—Ä–µ –∏–∑ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∏–º –º–∏–Ω–∏–º—É–º N$
- –≠—Ç–∏ –∂–µ N$ —É–π–¥—É—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - —Ç.–µ. –º—ã –≤—Å–µ–≥–¥–∞ –≤—ã–π–¥–µ–º –∫–∞–∫ –º–∏–Ω–∏–º—É–º –≤ –Ω–æ–ª—å, —Å–∫–æ—Ä–µ–µ
  –≤—Å–µ–≥–æ, –¥–∞–∂–µ –æ—Å—Ç–∞–Ω–µ–º—Å—è –≤ –ø–ª—é—Å–µ
- `->` –û–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–µ –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ

# 25. –ê–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤. –ú–µ—Ç–æ–¥ —Ñ–∏–∑–∏–∫–∞. –ü—Ä–∏–º–µ—Ä—ã.

–î–ª—è –º–µ—Ç–æ–¥–∞ —Ñ–∏–∑–∏–∫–∞ –Ω—É–∂–Ω—ã:

- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã: –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞–≤–µ–Ω –Ω–æ–ª—é
- –í –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –±–µ—Ä—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã

–ü—Ä–∏–º–µ—Ä —Å `ArrayList`/`Vector`/etc.:

- –ù–∞—á–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª: –Ω–æ–ª—å
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤–µ–∫—Ç–æ—Ä–∞: `|N - (M - N)|`, –≥–¥–µ N - —á–∏—Å–ª–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, M - —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü - –æ–ø–µ—Ä–∞—Ü–∏—è `O(1)`, –ø–æ —Ñ–æ—Ä–º—É–ª–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –Ω–∞ 2
- –ü–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏–µ - –æ–ø–µ—Ä–∞—Ü–∏—è `O(N)`, —É–º–µ–Ω—å—à–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å N –¥–æ 0
- –£–¥–∞–ª–µ–Ω–∏–µ —Å –∫–æ–Ω—Ü–∞ - –æ–ø–µ—Ä–∞—Ü–∏—è `O(1)`, –∫–æ—Ç–æ—Ä–∞—è:
    - –í –≤–µ—Ä—Ö–Ω–µ–π "–ø–æ–ª–æ–≤–∏–Ω–µ" –≤–µ–∫—Ç–æ—Ä–∞ —É–º–µ–Ω—å—à–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –Ω–∞ 2
    - –í –Ω–∏–∂–Ω–µ–π "–ø–æ–ª–æ–≤–∏–Ω–µ" –≤–µ–∫—Ç–æ—Ä–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –Ω–∞ 2

# 26. –ò–∑–º–µ–Ω—è–µ–º—ã–µ/–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ/—ç—Ñ–µ–º–µ—Ä–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –°–î.

### –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

- –°–∫—Ä—ã—Ç–æ–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –û–±—ã—á–Ω–æ –ø—Ä–æ—Å—Ç—ã
- –ü—Ä–æ—Å—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

- –ù–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ - –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
- –õ–µ–≥—á–µ –∏—Å–∫–∞—Ç—å –æ—à–∏–±–∫–∏
- –õ–µ–≥—á–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å
- –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

–í –§–ü - –≤—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ - —Å–µ–π—á–∞—Å –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ –æ–Ω–∏.

### –ü—Ä–∏–º–µ—Ä–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

- –≠—Ñ–µ–º–µ—Ä–Ω–æ–µ - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–µ, –ø–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ - —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å - —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∂–∏—Ç—å "—Å–æ–∑–¥–∞—Ç–µ–ª—è"
    - –∏–Ω–æ–≥–¥–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ = 1-2 –∫–æ–ø–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏–Ω–æ–≥–¥–∞ - —Ç—ã—Å—è—á–∏

# 27. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: –æ—á–µ—Ä–µ–¥—å –∏ zipper.

### –û—á–µ—Ä–µ–¥—å

–û—á–µ—Ä–µ–¥—å aka Queue —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –¥–≤–∞ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–∞:

- –°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –°–ø–∏—Å–æ–∫ —É–¥–∞–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç - —Å–ø–∏—Å–æ–∫ —É–¥–∞–ª—è–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö –Ω–µ –ø—É—Å—Ç
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ - –µ—Å–ª–∏ —É–¥–∞–ª—è–µ–º—ã–π –ø—É—Å—Ç, –∞ –¥–æ–±–∞–≤–ª—è–µ–º—ã–π - –Ω–µ –ø—É—Å—Ç, —Ç–æ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª—è–µ–º—ã—Ö –∏ –º–µ–Ω—è–µ–º
  —Å–ø–∏—Å–∫–∏ –º–µ—Å—Ç–∞–º–∏

### Zipper

–ò–Ω–æ–≥–¥–∞ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª–∏—Å—Ç–∞–º–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤—Å—Ç–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–∞–∫—É—é-—Ç–æ —Ç–æ—á–∫—É –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ª–∏—Å—Ç–∞.
–î–ª—è —Ç–∞–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç zipper, —Ä–µ–∞–ª–∏–∑—É–µ–º—ã–π —á–µ—Ä–µ–∑ –¥–≤–∞ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–∞:

- –ü–µ—Ä–≤—ã–π —Å–ø–∏—Å–æ–∫ - –ª–µ–≤–∞—è —á–∞—Å—Ç—å (–¥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è)
- –í—Ç–æ—Ä–æ–π —Å–ø–∏—Å–æ–∫ - –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å (–ø–æ—Å–ª–µ —É–∫–∞–∑–∞—Ç–µ–ª—è)

Zipper –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.

# 28. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: –¥–µ—Ä–µ–≤—å—è –ø–æ–∏—Å–∫–∞. –ö—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.

–ö—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ - –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –ø–æ–∏—Å–∫–∞:

- –ö–∞–∂–¥–∞—è –≤–µ—Ä—à–∏–Ω–∞ –∏–º–µ–µ—Ç —Ü–≤–µ—Ç - –∫—Ä–∞—Å–Ω—ã–π –∏–ª–∏ —á—ë—Ä–Ω—ã–π
- –õ–∏—Å—Ç—å—è –¥–µ—Ä–µ–≤–∞ –≤—Å–µ–≥–¥–∞ —á—ë—Ä–Ω—ã–µ
- –£ –∫—Ä–∞—Å–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫—Ä–∞—Å–Ω—ã—Ö –¥–µ—Ç–µ–π
- –í—Å–µ –ø—É—Ç–∏ –æ—Ç –∫–æ—Ä–Ω—è –¥–æ –ª–∏—Å—Ç–∞ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á—ë—Ä–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω

–ü—Ä–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–µ—Ä—à–∏–Ω—ã, –≤–µ–¥—É—â–∏–µ –∫ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ–º–æ–º—É —É–∑–ª—É - –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–µ–ª—è—Ç –ø–∞–º—è—Ç—å —Å
–Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π.

–ó–∞—á–∞—Å—Ç—É—é –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –≤ –∏–¥–µ–∞–ª—å–Ω–æ–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–µ –¥–µ—Ä–µ–≤–∞ - –±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ –æ–ø–µ—Ä–∞—Ü–∏–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ —Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∞ –¥–æ—Å—Ç–∏–≥–∞–µ–º–æ–≥–æ –≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–º –¥–µ—Ä–µ–≤–µ, logN —Ö–≤–∞—Ç–∞–µ—Ç - —ç—Ç–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ,
—á–µ–º N.

# 29. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: –∫—É—á–∏.

–ë–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–æ—Ä–µ–Ω—å - –Ω–∞–∏–º–µ–Ω—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç.

–û–±—ã—á–Ω–æ –∫—É—á–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–ø–∞–∫–æ–≤–∞–Ω–æ –≤ –º–∞—Å—Å–∏–≤.

Heap property - –¥–µ—Ç–∏ –≤—Å–µ–≥–¥–∞ –±–æ–ª—å—à–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π.

–ü—Ä–∏–º–µ—Ä: –ª–µ–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∫—É—á–∞ (leftist heap):

- –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ
- —Ä–∞–Ω–≥ - –¥–ª–∏–Ω–∞ –ø—Ä–∞–≤–æ–π —Ö–æ—Ä–¥—ã –≤–µ—Ä—à–∏–Ω—ã
- —Ä–∞–Ω–≥ –ª–µ–≤–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω —Ä–∞–Ω–≥—É –ø—Ä–∞–≤–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞
- –æ–±—ã—á–Ω–æ —Ä–∞–Ω–≥ —Ö—Ä–∞–Ω—è—Ç –ø—Ä—è–º–æ –≤ –¥–µ—Ä–µ–≤–µ (—á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å)

–ï—â—ë –ø—Ä–∏–º–µ—Ä: –¥–≤–æ–∏—á–Ω–∞—è –∫—É—á–∞:

- –°–æ—Å—Ç–æ–∏—Ç –∏–∑ –±–∏–Ω–æ–º–∏–∞–ª—å–Ω—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤
- –î–µ—Ä–µ–≤—å—è —Ä–µ–∞–ª–∏–∑—É—é—Ç Heap property
- –î–µ—Ä–µ–≤–æ —Ä–∞–Ω–≥–∞ N - —ç—Ç–æ –¥–≤–∞ –¥–µ—Ä–µ–≤–∞ —Ä–∞–Ω–≥–∞ (N - 1), –≥–¥–µ –ª–µ–≤–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–¥–≤–µ—à–µ–Ω–æ –∫ –≤–µ—Ä—à–∏–Ω–µ –ø—Ä–∞–≤–æ–≥–æ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - —á–∏—Å–ª–æ, –¥–≤–æ–∏—á–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –∫—É—á–∞
    - –ì–¥–µ –¥–µ—Ä–µ–≤–æ –µ—Å—Ç—å - 1, –≥–¥–µ –Ω–µ—Ç - 0
    - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫—É—á = —Å–ª–æ–∂–µ–Ω–∏–µ –¥–≤–æ–∏—á–Ω—ã—Ö —á–∏—Å–µ–ª
- –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π:
    - –ü–æ–∏—Å–∫ + —É–¥–∞–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º—É–º–∞ - `O(K) | K <= log (N + 1)`
    - –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç - —Ç–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞—è
    - –í—Å—Ç–∞–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ - `O(K) | K <= log (N + 1)` (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∞)

# 30. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. Treap.

Treap = Tree + Heap, —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

- –í –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–µ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è:
    - –ü–æ –ø–µ—Ä–≤–æ–º—É - –±–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞
    - –ü–æ –≤—Ç–æ—Ä–æ–º—É - –∫—É—á–∞
- –ö—É—á–∞ —Ö–æ—Ä–æ—à–æ —Å–∞–º–æ–±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç—Å—è - –∑–Ω–∞—á–∏—Ç, –Ω–µ –Ω–∞–¥–æ —Ç—Ä–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏
- –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫—É—á–∏ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
    - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–π—Ç–∏ –ø–æ –≤—ã—Å–æ—Ç–µ –∑–∞ `4 log N` –∫—Ä–∞–π–Ω–µ –º–∞–ª–∞

–ü–æ–º–∏–º–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–µ—Ä–µ–≤–æ–º, –µ—Å—Ç—å –¥–≤–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

- `split` - –¥–µ–ª–∏–º –¥–µ—Ä–µ–≤–æ –Ω–∞ –¥–≤–∞ –ø–æ–¥–¥–µ—Ä–µ–≤–∞
    - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º heap property, –Ω–æ —Å–ª–µ–¥–∏–º –∑–∞ –±–∞–ª–∞–Ω—Å–æ–º –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞
- `merge` - —Å–ª–∏–≤–∞–µ–º –¥–≤–∞ –¥–µ—Ä–µ–≤–∞ –≤ –æ–¥–Ω–æ
    - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –Ω–æ —Å–ª–µ–¥–∏–º –∑–∞ heap property

# 31. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö. Skip list.

–í–º–µ—Å—Ç–æ –¥–µ—Ä–µ–≤–∞ –ø–æ–∏—Å–∫–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ (–±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–µ–º—É). –û–¥–Ω–∞–∫–æ –≤ –§–ü –Ω–µ—Ç –º–∞—Å—Å–∏–≤–æ–≤,
—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏. –ó–Ω–∞—á–∏—Ç, –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –±–æ–ª—å—à–µ, —á–µ–º –Ω–∞ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤–ø–µ—Ä—ë–¥:

- –ò–¥—ë–º –ø–æ —Å–∞–º–æ–º—É –ø–µ—Ä–≤–æ–º—É —Å–ø–∏—Å–∫—É (–Ω–∞—á–∞–ª–æ - –∫–æ–Ω–µ—Ü), —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å –∏—Å–∫–æ–º—ã–º
- "–ü–µ—Ä–µ–ø—Ä—ã–≥–Ω—É–ª–∏" - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∏ —Å–ø—É—Å–∫–∞–µ–º—Å—è –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –Ω–∏–∂–µ
- –ü–æ–≤—Ç–æ—Ä—è–µ–º –¥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
- `O(log N)` –µ—Å–ª–∏ —Å—Å—ã–ª–∫–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Ä–æ–≤–Ω–µ–π —Ç–æ–∂–µ `O(log N)`
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ - –±—Ä–æ—Å–∫–æ–º –º–æ–Ω–µ—Ç–∫–∏:
    - –î–∞ - –≤—Å—Ç–∞–≤–ª—è–µ–º –≤ —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –∏ –≤—Å–µ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–µ
    - –ù–µ—Ç - —Å–ø—É—Å–∫–∞–µ–º—Å—è –Ω–∏–∂–µ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º —Ü–∏–∫–ª
- –•–æ—Ä–æ—à–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä - —Ö–æ—Ä–æ—à–∞—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å —Å—Å—ã–ª–æ–∫

# 32. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö: –∏–Ω–¥–µ–∫—Å–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è –∏ —Ö–µ—à-–¥–µ—Ä–µ–≤—å—è.

### –ò–Ω–¥–µ–∫—Å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ

- –ë–∏–Ω–∞—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–µ—Ç–µ–π - 32/64
- –ù–µ–±–æ–ª—å—à–∏–µ –º–∞—Å—Å–∏–≤—ã "–±–µ—Å–ø–ª–∞—Ç–Ω–æ" –∫–æ–ø–∏—Ä—É—é—Ç—Å—è
- –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–æ –±–∏—Ç–∞–º –≤–Ω—É—Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–π
- –†—è–¥–æ–º —Å –∫–∞–∂–¥—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º - –º–∞—Å–∫–∞: —á–∏—Å–ª–æ, –≤ –∫–æ—Ç–æ—Ä–æ–º –±–∏—Ç–∞–º–∏ —É–∫–∞–∑–∞–Ω–æ, –≥–¥–µ –≤ –º–∞—Å—Å–∏–≤–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã

–ü–æ–ª—É—á–∞–µ–º:

- –î–µ—à—ë–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–∞–ª–µ–Ω—å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã (–∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º –¥–µ—Ä–µ–≤–µ)
- –ú–µ–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä –¥–µ—Ä–µ–≤–∞ - —Ä–µ–≥—É–ª–∏—Ä—É–µ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å/–≤—ã—Å–æ—Ç—É

### –•—ç—à-–¥–µ—Ä–µ–≤–æ

–ò–Ω–¥–µ–∫—Å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ, –≥–¥–µ –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–∞ - —Ö—ç—à. –ß–∏—Å—Ç–æ –≤ —Ç–µ–æ—Ä–∏–∏, –≤–µ–∑–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã - –¥–æ—Å—Ç—É–ø –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π, –∫–∞–∫ —É —Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã, –Ω–æ
–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Ö—É–∂–µ.

# 33. –ú–µ—Ç–æ–¥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π (Scheduling) –∏ –µ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –¥–∞–Ω–Ω—ã—Ö. –û—á–µ—Ä–µ–¥—å —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

### Sheduling

–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –§–ü - —Ö–æ—Ä–æ—à–∞—è –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –Ω–æ –∏—Ö —Å–ª–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º
—Ä–µ–∂–∏–º–µ. –í –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–≤–µ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏—é —Å –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é –∫ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∞–∏—Ö—É–¥—à–µ–π
—Å–ª–æ–∂–Ω–æ—Å—Ç—å—é. –î–ª—è —Ç–∞–∫–æ–≥–æ —Å–≤–µ–¥–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π:

- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏:
    - –ê–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
    - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–±–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞ –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–µ–Ω–∏–≤—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏
- –í –æ–±—â–µ–º —Å–ª—É—á–∞–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

–û–±—â–∞—è –∏–¥–µ—è:

- –í —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ª–µ–Ω–∏–≤—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –º–æ–º–µ–Ω—Ç –≤—ã–ø–ª–∞—Ç—ã –¥–æ–ª–≥–∞
- –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—á–µ—Ä–µ–¥—å (queue) –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –¥–≤–∞ —Å–ø–∏—Å–∫–∞ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö, –ø—Ä–∏
  —ç—Ç–æ–º `reverse` - –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- –ó–Ω–∞—á–∏—Ç, –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –æ—á–µ—Ä–µ–¥—å—é –ª–µ–Ω–∏–≤–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–∞—Å—Ç—å `reverse`, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º
  —Å–ø–∏—Å–∫–µ
- –î–ª—è —ç—Ç–æ–≥–æ –≤ –∫–æ–Ω–µ—Ü –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ–±–µ—â–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å –≤—Ö–æ–¥–Ω–æ–π —Å–ø–∏—Å–æ–∫
- –†–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–ª–∏–Ω—ã —Å–ø–∏—Å–∫–æ–≤ —Ä–∞–≤–Ω—ã
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ - "—Å–ø–∏—Å–æ–∫-—Å—á—ë—Ç—á–∏–∫", —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –µ—â—ë –ª–µ–Ω–∏–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

```haskell
-- –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –æ–±–µ—â–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω–æ–≥–æ
rotate [] (y:_) a = y:a
rotate (x:xs) (y:ys) a =
x : rotate (Queue xs ys (y:a))

-- –ó–∞—Ñ–æ—Ä—Å–∏—Ç—å —Ä–æ–≤–Ω–æ 1 —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
exec (Queue f r (x:s)) = (Queue f r s)
exec (Queue f r []) = let f' = rotate f r [] in Queue f' [] f'


push (Queue f r s) x = exec (Queue f (x:r) s)
top (Queue [] r s) = error "empty queue"            
    (Queue (x:f) r s) = x
pop (Queue [] r s) = error "empty queue"
    (Queue (x:f) r s) = exec (Queue f r s)
```

# 34. –õ–µ–Ω–∏–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ª–µ–Ω–∏–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.

Haskell - —è–∑—ã–∫ —Å –ª–µ–Ω–∏–≤—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º, –µ—Å–ª–∏ —Ç–æ—á–Ω–µ–µ - `call-by-need`: –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –∑–∞—Ç–µ–º –ø—Ä–æ—Å—Ç–æ
–ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è.

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–∞–∂–µ –≤ –ø—Ä–∏–≤—ã—á–Ω—ã—Ö —ç–Ω–µ—Ä–≥–∏—á–Ω—ã—Ö —è–∑—ã–∫–∞—Ö —è–≤–ª—è—é—Ç—Å—è –ª–µ–Ω–∏–≤—ã–º–∏: `if` (–∏–Ω–∞—á–µ –ø—Ä–æ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
–∏–∑ –æ–±–µ–∏—Ö –≤–µ—Ç–æ–∫), `&&`, `||`.

–û–¥–Ω–∞–∫–æ —É –ª–µ–Ω–∏–≤—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –µ—Å—Ç—å —Ä—è–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤:

- –¢—è–∂–µ–ª–µ–µ –¥–∞—Ç—å –æ—Ü–µ–Ω–∫—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –í–æ–∑–º–æ–∂–Ω—ã —Ç–æ—Ä–º–æ–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
- –û—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω—ã –¥–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∑–∞—Ä–∞–Ω–µ–µ –º–æ–º–µ–Ω—Ç–∞

–ò–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –ª–µ–Ω–∏–≤–æ—Å—Ç–∏ –≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –º–µ—Å—Ç–∞—Ö –≤–æ–∑–º–æ–∂–Ω–æ –æ–¥–Ω–∏–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø–æ—Å–æ–±–æ–≤:

- `seq` , —Å—á–∏—Ç–∞–µ—Ç –≤—Å–µ–≥–æ –Ω–∞ 1 —É—Ä–æ–≤–µ–Ω—å
- `deepseq`, —Å—á–∏—Ç–∞–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞
- `!(h:t) / $!` - BangPatterns
- `'` - —Å—Ç—Ä–æ–≥–∏–µ –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ `seq`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `foldl` - `foldl'`

# 35. –õ–µ–Ω–∏–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –≤ –ª–µ–Ω–∏–≤–æ–º —è–∑—ã–∫–µ.

Haskell - –ª–µ–Ω–∏–≤—ã–π, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –Ω—ë–º - —Ç–æ–∂–µ:

```haskell
list = [0, 1, 2, 3, error "Slap!", 5]
...
show $ take 3 list -- [0, 1, 2]
show $ take 5 list -- Slap!
```

–°–ø–∏—Å–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ-–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º–∏:

```haskell
list = 1 : list
```

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏, –≤—ã—à–µ –ø–æ–ª—É—á–∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –µ–¥–∏–Ω–∏—Ü.

–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ –Ω—É–∂–µ–Ω –≤–µ—Å—å —Å–ø–∏—Å–æ–∫, –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Å–ø–∏—Å–∫–∞—Ö:

- `map`
- `filter`
- `zip`/`zipWith`

–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –≤–µ—Å—å —Å–ø–∏—Å–æ–∫. –º–æ–≥—É –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å:

- `show`
- `length`
- `reverse`
- `last`
- ...

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–µ–Ω–∏–≤–æ—Å—Ç–∏ —Å–ø–∏—Å–∫–æ–≤ - –Ω–∞–π—Ç–∏ N-—É—é –¶–ò–§–†–£ –≤ —Å–ø–∏—Å–∫–µ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª:

```haskell
square x = x * x
allSquares = square <$> [1..]
result n = (concatMap show allSquares) !! n
```

# 36. –õ–µ–Ω–∏–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ü–æ—Ç–æ–∫–∏.

–ü–æ—Ç–æ–∫–∏ - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

–ü–æ—Ç–æ–∫ - —Ñ—É–Ω–∫—Ç–æ—Ä:

```haskell
instance Functor Stream where fmap f (Cons h t) = Cons (f h) (fmap f t)

sreturn x = srepeat x

diag (Cons h t) = Cons (shead h) $ diag (stail <$> t)
sflatten :: Stream (Stream x) -> Stream x
sflatten = diag
```

`return` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–µ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤, `flatten` –±–µ—Ä—ë—Ç –¥–∏–∞–≥–æ–Ω–∞–ª—å –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö "—Å–∂–∏–º–∞–µ–º—ã—Ö" –ø–æ—Ç–æ–∫–æ–≤.
